# OpenArm ì‹¤í–‰ ë§¤ë‰´ì–¼ (CAN + ROS2)

ë³¸ ë¬¸ì„œëŠ” OpenArm í•œíŒ” / ì–‘íŒ” ë²„ì „ ì‹¤í–‰ ì ˆì°¨ë¥¼ ì •ë¦¬í•œ ë§¤ë‰´ì–¼ì…ë‹ˆë‹¤.  
í„°ë¯¸ë„¤ì´í„°(Terminator) ì°½ì„ ìµœì†Œ **3ê°œ ì´ìƒ** ë„ì›Œ ë³‘ë ¬ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

---

## ğŸ“¦ í™˜ê²½ ì¤€ë¹„
```bash
openarm   # (alias: ROS2 humble í™˜ê²½ í™œì„±í™”)

1. CAN ì—°ê²°
  1) ì—°ê²° í¬íŠ¸ í™•ì¸
  	ls /dev/ttyACM*
  2) sclandë¡œ CAN ë””ë°”ì´ìŠ¤ ìƒì„±
  	sudo slcand -o -c -s8 -S 1000000 /dev/ttyACM0 can0
	sudo ip link set can0 up type can bitrate 1000000	
	sudo ip link set can0 txqueuelen 1000
	ip -details link show can0
	  	ë°ì´í„° í™•ì¸(ì˜µì…˜) : candump can0

2. ì•„ë‘ì´ë…¸ ì—°ê²°(ê·¸ë¦¬í¼) 
  1) ì—°ê²° í¬íŠ¸ í™•ì¸ 
  	ls /dev/ttyACM*
  2) ë¸Œë¦¿ì§€ ì‹¤í–‰
  	ros2 launch openarm_arduino_bridge arduino_servo.launch.py port:=/dev/ttyACM1

3. í•œ íŒ” ë²„ì „ Bringup ì‹¤í–‰(ëª¨í„° ìƒ‰ìœ¼ë¡œ ìƒíƒœ ì²´í¬: ë¹¨ê°„ë¶ˆ: ì „ì› ì¸ê°€, êµ¬ë™ X, íŒŒë€ë¶ˆ: ì „ì›ì¸ê°€, CANë©”ì‹œì§€ ë°›ìŒ, êµ¬ë™ X, ì´ˆë¡ë¶ˆ: ì „ì›ì¸ê°€, CANë©”ì‹œì§€ ë°›ìŒ, êµ¬ë™ O)
  """"""" ì´ ì½”ë“œëŠ” ë¬´ìŠ¨ ì¼ì´ ìˆì–´ë„ ì›ì (ì­‰ í¸ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼í•¨)"""""""""
  
	ros2 launch openarm_bringup openarm.launch.py \
	can_device:=can0 \
	can_fd:=false \
	disable_torque:=false \
	use_mock_hardware:=false \
	gripper_use_mock:=true
 
  2) Trajectory ë°ëª¨ ì‹¤í–‰
  	ros2 launch openarm_bringup test_trajectory.launch.py
  	
4. ì–‘íŒ” ë²„ì „ ì‹¤í–‰(ëª¨í„° ìƒ‰ìœ¼ë¡œ ìƒíƒœ ì²´í¬: ë¹¨ê°„ë¶ˆ: ì „ì› ì¸ê°€, êµ¬ë™ X, íŒŒë€ë¶ˆ: ì „ì›ì¸ê°€, CANë©”ì‹œì§€ ë°›ìŒ, êµ¬ë™ X, ì´ˆë¡ë¶ˆ: ì „ì›ì¸ê°€, CANë©”ì‹œì§€ ë°›ìŒ, êµ¬ë™ O)
  1) Bringup ì‹¤í–‰(ëª¨í„° ì´ˆë¡ë¶ˆ)
    """"""" ì´ ì½”ë“œëŠ” ë¬´ìŠ¨ ì¼ì´ ìˆì–´ë„ ì›ì (ì­‰ í¸ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼í•¨)"""""""""
  	ros2 launch openarm_static_bimanual_bringup sbopenarm.launch.py \
	can_device:=can0 \
	can_fd:=false \
	disable_torque:=false \
	use_mock_hardware:=false \
	rviz:=true

		active_mode:=jtc â†’ JointTrajectoryController ëª¨ë“œ (ê¸°ë³¸)

		active_mode:=fpc â†’ ForwardPositionController ëª¨ë“œ

		active_mode:=teleop â†’ Teleop ëª¨ë“œ
  2) ë°ëª¨ ì‹¤í–‰
   ros2 launch openarm_static_bimanual_bringup play_bimanual_scenario.launch.py
   
  3) CAN í†µì‹  í™•ì¸(ëª¨í„° íŒŒë€ë¶ˆ)
    	ros2 launch openarm_static_bimanual_bringup sbopenarm.launch.py \
	can_device:=can0 \
	can_fd:=false \
	disable_torque:=true \
	use_mock_hardware:=false \
	rviz:=true

(ì „ì› ì¸ê°€í•˜ê³ , ì•„ë‘ì´ë…¸ì™€ ì—°ê²°ì„  ë‹¤ì‹œ ê½‚ì„ ê²ƒ. ì»´í“¨í„°-ì„  ë¶€ë¶„ ë§ê³  ì„ -ì•„ë‘ì´ë…¸ ë¶€ë¶„)

ros2 run openarm_recorder recorder_node
ros2 launch openarm_player play_waypoints.launch.py waypoint_file:=recorded_waypoints_20250924_182946.json


[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

ì™¼íŒ” ì‹œë‚˜ë¦¬ì˜¤

ì™¼íŒ” íë¸Œ ì¡ëŠ” ê³³ ìƒë‹¨ 6ì´ˆê°„ ì´ë™
[1.3, -0.2, -1.571, 1.7, -0.2, 0.95, 0.2]

ì™¼íŒ” íë¸Œ ì¡ëŠ” ê³³ 2ì´ˆê°„ ì´ë™
[1.3, -0.25, -1.571, 1.75, -0.2, 0.95, 0.2]

ì™¼íŒ” 2ì´ˆ ìœ ì§€ (ê·¸ë¦¬í¼ ì¡ì„ ì‹œê°„, ëª…ë ¹ ì—†ìœ¼ë©´ ë¨)

ì™¼íŒ” íë¸Œ ëŒë¦¬ëŠ” ê³³ 6ì´ˆê°„ ì´ë™
[0.0, 0.6, -1.571, 2.0, 0.0, -0.2, 0.0]

ì™¼íŒ” 16 ì´ˆ ìœ ì§€(ëª…ë ¹ ì—†ìœ¼ë©´ ë¨)

ì™¼íŒ” íë¸Œ ë‚´ë ¤ë†“ëŠ”ê³³ 6ì´ˆê°„ ì´ë™
[1.3, -0.2, -1.571, 1.7, -0.2, 0.95, 0.2]

ì™¼íŒ” ì›ì  ë³µê·€ 6ì´ˆê°„ ì´ë™
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]


ì˜¤ë¥¸íŒ” ì‹œë‚˜ë¦¬ì˜¤

ì˜¤ë¥¸íŒ” íë¸Œ ëŒë¦¬ëŠ” ê³³ ì§ì „ 16ì´ˆê°„ ì´ë™
[0.0, 0.75, 1.571, 2.1, 1.571, 0.2, 0.2]

ì˜¤ë¥¸íŒ” íë¸Œ ëŒë¦¬ëŠ” ê³³ 4ì´ˆê°„ ì´ë™
[0.0, 0.55, 1.571, 1.9, 1.571, 0.2, 0.2]

ì˜¤ë¥¸íŒ” 2ì´ˆ ìœ ì§€ (ê·¸ë¦¬í¼ ì¡ì„ ì‹œê°„, ëª…ë ¹ ì—†ìœ¼ë©´ ë¨)

ì˜¤ë¥¸íŒ” íë¸Œ ëŒë¦¼ 4ì´ˆê°„ ì´ë™
[0.0, 0.55, 1.571, 1.9, 0.0, -0.2, 0.0]

ì˜¤ë¥¸íŒ” 2ì´ˆ ìœ ì§€ (ê·¸ë¦¬í¼ í•´ì œ, ëª…ë ¹ ì—†ìœ¼ë©´ ë¨)

ì˜¤ë¥¸íŒ” ë¹¼ëŠ” ê³³ 4ì´ˆê°„ ì´ë™
[0.0, 0.55, 1.571, 1.9, 0.0, 0.2, 0.2]

ì˜¤ë¥¸íŒ” ì›ì  ì´ë™ 12ì´ˆê°„ ì´ë™ 
[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]


ros2 action send_goal /right_joint_trajectory_controller/follow_joint_trajectory control_msgs/action/FollowJointTrajectory "{ 'trajectory': { 'joint_names': ['right_rev1', 'right_rev2', 'right_rev3', 'right_rev4', 'right_rev5', 'right_rev6', 'right_rev7'], 'points': [ { 'positions': [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], 'time_from_start': { 'sec': 2, 'nanosec': 0 } } ] } }"
